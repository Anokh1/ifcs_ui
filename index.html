<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>IFCS Dashboard</title>

<!-- Material Symbols (futuristic icons) -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: #0f1220;
  color: #eaeaf0;
  overflow-x: hidden;
}

/* ================= HEADER ================= */
header {
  padding: 14px 24px;
  background: #151933;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 {
  margin: 0;
  font-size: 18px;
  cursor: pointer;
}

/* ================= LAYOUT ================= */
.container {
  display: flex;
  height: calc(100vh - 52px);
}

/* ================= SIDEBAR ================= */
.sidebar {
  width: 64px;
  background: #151933;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 16px;
  gap: 12px;
  box-shadow: inset -1px 0 rgba(255,255,255,0.05);
}

.menu-item {
  width: 44px;
  height: 44px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #9aa4ff;
  transition: all 0.25s ease;
}

.menu-item:hover {
  background: rgba(43,92,255,0.15);
  box-shadow: 0 0 12px rgba(43,92,255,0.6);
  color: #fff;
}

.material-symbols-outlined {
  font-size: 22px;
}

/* ================= CONTENT ================= */
.content {
  flex: 1;
  padding: 16px;
  overflow-y: auto;
}

/* ================= DASHBOARD GRID ================= */
.dashboard {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 16px;
}

/* ================= CARDS ================= */
.card {
  background: #1c2140;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 0 14px rgba(0,0,0,0.35);
}

h3 {
  margin: 0 0 10px;
  font-size: 13px;
  opacity: 0.85;
}

/* ================= MODEL CONTAINER ================= */
.model-container {
  grid-column: 1 / -1;
  background: linear-gradient(145deg, #151933, #1c2140);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 14px;
  padding: 14px;
  position: relative;
}

.model-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.badge {
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 8px;
  background: rgba(82,196,26,0.2);
  color: #52c41a;
}

/* Visible frame */
model-viewer {
  width: 100%;
  height: 420px;
  background: #0f1220;
  border-radius: 12px;
  border: 1px dashed rgba(255,255,255,0.12);
}

/* ================= MODULE LEGEND ================= */
.legend {
  display: flex;
  gap: 14px;
  font-size: 11px;
  margin-top: 10px;
  opacity: 0.8;
}

.legend span::before {
  content: "‚óè";
  margin-right: 6px;
}

.legend .normal::before { color: #52c41a; }
.legend .warning::before { color: #fadb14; }
.legend .critical::before { color: #ff4d4f; }

/* ================= PAGE ================= */
.page { display: none; }
.page.active { display: block; }

/* ================= CHARTS ================= */
canvas { border-radius: 8px; }
</style>
</head>

<body>

<header>
  <h1 onclick="switchPage('dashboardPage')">IFCS Dashboard</h1>
  <span>Machine: Line-A-01</span>
</header>

<div class="container">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="menu-item" onclick="switchPage('dashboardPage')">
      <span class="material-symbols-outlined">dashboard</span>
    </div>
    <div class="menu-item" onclick="switchPage('analyticsPage')">
      <span class="material-symbols-outlined">precision_manufacturing</span>
    </div>
  </div>

  <!-- CONTENT -->
  <div class="content">

    <!-- DASHBOARD -->
    <div id="dashboardPage" class="page active">
      <div class="dashboard">
        <div class="card"><h3>Production Defects</h3><canvas id="defectsChart"></canvas></div>
        <div class="card"><h3>Yield Rate</h3><canvas id="yieldChart"></canvas></div>
        <div class="card"><h3>OEE</h3><canvas id="oeeChart"></canvas></div>
        <div class="card"><h3>Scrap Rate</h3><canvas id="scrapChart"></canvas></div>
      </div>
    </div>

    <!-- ANALYTICS PAGE -->
    <div id="analyticsPage" class="page">
      <div class="model-container">
        <div class="model-header">
          <h3>Machine Digital Twin</h3>
          <span class="badge">RUNNING</span>
        </div>

        <!-- REAL INDUSTRIAL ROBOT MODEL -->
        <model-viewer
          src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/RobotExpressive/glTF-Binary/RobotExpressive.glb"
          camera-controls
          auto-rotate
          exposure="1.1"
          shadow-intensity="1"
          alt="Industrial Robot Arm">
        </model-viewer>

        <div class="legend">
          <span class="normal">Normal</span>
          <span class="warning">Warning</span>
          <span class="critical">Critical</span>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- SCRIPTS -->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
function switchPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

new Chart(defectsChart,{type:"bar",data:{labels:["A","B","C","D"],datasets:[{data:[12,7,5,9],backgroundColor:["#ff4d4f","#fadb14","#52c41a","#2b5cff"],barThickness:4}]},options:{plugins:{legend:{display:false}}}});
new Chart(yieldChart,{type:"line",data:{labels:["W1","W2","W3","W4"],datasets:[{data:[92,95,90,93],borderColor:"#52c41a",tension:0.4}]},options:{plugins:{legend:{display:false}},scales:{y:{max:100}}}});
new Chart(oeeChart,{type:"line",data:{labels:["W1","W2","W3","W4"],datasets:[{data:[85,88,82,87],borderColor:"#9aa4ff",tension:0.4}]},options:{plugins:{legend:{display:false}},scales:{y:{max:100}}}});
new Chart(scrapChart,{type:"bar",data:{labels:["W1","W2","W3","W4"],datasets:[{data:[5,4,6,3],backgroundColor:"#9bf6ff",barThickness:4}]},options:{plugins:{legend:{display:false}}}});
</script>

</body>
</html>
